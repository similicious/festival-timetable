---
import { getCollection } from "astro:content";

const stages = await getCollection("stages");

const page = Astro.url.pathname;
---

<ul class="text-6xl">
  <li title="Home">
    <a
      class="block text-center py-2 rounded-l-lg"
      class:list={{
        "bg-zinc-800": page === "/",
      }}
      href="/"
    >
      📍
    </a>
  </li>
  {
    stages.map((stage) => (
      <li title={stage.data.name}>
        <a
          class="block text-center py-2 rounded-l-lg"
          class:list={{
            "bg-zinc-800": page.includes(stage.data.name.toLowerCase()),
          }}
          href={"/stages/" + stage.data.name.toLowerCase()}
        >
          {stage.data.icon}
        </a>
      </li>
    ))
  }
</ul>
